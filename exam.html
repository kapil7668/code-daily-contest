<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeRush Exam | LeetCode Style</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/theme/dracula.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/javascript/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/python/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/clike/clike.min.js"></script>
  <style>
    *{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
    .CodeMirror {height: 450px !important; font-size: 14px;}
    .CodeMirror-linenumber {color: #7c8798 !important;}
  </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">

<!-- üî• ALL 21 QUESTIONS EMBEDDED - NO EXTERNAL FILE NEEDED -->
<script>
const CONTEST_PROBLEMS = {
  'free-daily': [
    {id:'two-sum',title:'Two Sum',difficulty:'Easy',description:`Given an array of integers <code>nums</code> and an integer <code>target</code>, return indices of the two numbers such that they add up to <code>target</code>.`,examples:[{input:'nums = [2,7,11,15], target = 9',output:'[0,1]'}]},
    {id:'valid-parentheses',title:'Valid Parentheses',difficulty:'Easy',description:`Given a string <code>s</code> containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.`,examples:[{input:'s = "()"',output:'true'}]},
    {id:'reverse-integer',title:'Reverse Integer',difficulty:'Medium',description:`Given a signed 32-bit integer <code>x</code>, return <code>x</code> with its digits reversed.`,examples:[{input:'x = 123',output:'321'}]}
  ],
  'quick-9': [
    {id:'contains-duplicate',title:'Contains Duplicate',difficulty:'Easy',description:`Given an integer array <code>nums</code>, return <code>true</code> if any value appears at least twice.`,examples:[{input:'nums = [1,2,3,1]',output:'true'}]},
    {id:'roman-to-integer',title:'Roman to Integer',difficulty:'Easy',description:`Roman numerals are represented by seven different symbols: I, V, X, L, C, D and M.`,examples:[{input:'s = "III"',output:'3'}]},
    {id:'palindrome-number',title:'Palindrome Number',difficulty:'Easy',description:`Given an integer <code>x</code>, return <code>true</code> if <code>x</code> is a palindrome.`,examples:[{input:'x = 121',output:'true'}]}
  ]
};
window.CONTEST_PROBLEMS = CONTEST_PROBLEMS;
</script>

<!-- Header (EXACT 2nd Screenshot Style) -->
<div class="bg-slate-900 border-b border-slate-700 p-4 flex items-center justify-between">
  <div class="flex items-center gap-4">
    <a href="dashboard.html" class="flex items-center gap-2">
      <div class="w-10 h-10 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-xl flex items-center justify-center font-bold text-xl text-slate-900">C</div>
      <span class="text-xl font-bold">CodeRush</span>
    </a>
    <div class="flex items-center gap-4 bg-slate-800 px-6 py-3 rounded-2xl">
      <span class="text-emerald-400 font-bold">Q1/3</span>
      <div class="flex items-center gap-2 ml-4">
        <span class="text-orange-400 text-xl">‚è∞</span>
        <span id="timer" class="text-2xl font-black text-orange-400">59:33</span>
      </div>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <button onclick="previousQuestion()" id="prev-btn" disabled class="px-4 py-2 bg-slate-700 text-slate-400 rounded-xl hover:bg-slate-600 text-sm">Previous</button>
    <button onclick="markAsRead()" class="px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-500 text-sm font-medium">Mark as Read</button>
    <button onclick="runCode()" class="px-6 py-2 bg-emerald-500 text-slate-900 font-bold rounded-xl hover:bg-emerald-600 shadow-lg">Run</button>
    <select id="language-select" onchange="changeLanguage()" class="bg-slate-800 px-3 py-2 rounded-xl border border-slate-600 text-sm">
      <option value="javascript">JavaScript</option>
      <option value="python">Python 3</option>
      <option value="cpp">C++</option>
    </select>
    <button onclick="nextQuestion()" class="px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-500 text-sm font-medium">Next</button>
    <button onclick="submitExam()" class="px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:shadow-lg ml-2">Finish Exam</button>
  </div>
</div>

<!-- MAIN CONTENT (EXACT 2nd Screenshot Layout) -->
<div class="max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
  
  <!-- LEFT: Problem Description (1/3 width) -->
  <div class="lg:col-span-2 space-y-6">
    
    <!-- Problem Header -->
    <div class="bg-slate-900 border border-slate-700 rounded-3xl p-8">
      <div class="flex items-center justify-between mb-8">
        <h1 id="problem-title" class="text-3xl font-black text-white">Loading...</h1>
        <div class="flex items-center gap-3">
          <span id="difficulty-tag" class="px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-2xl font-bold text-sm">Easy</span>
          <span id="ac-rate" class="px-4 py-2 bg-slate-700 text-slate-400 rounded-2xl text-sm">85.3%</span>
        </div>
      </div>
      
      <!-- Problem Description -->
      <div id="problem-description" class="text-slate-300 text-lg leading-relaxed mb-8 prose prose-invert max-w-none">
        Loading problem...
      </div>
      
      <!-- Test Cases (EXACT 2nd Screenshot) -->
      <div class="bg-slate-900 border border-slate-700 rounded-2xl p-6">
        <h3 class="text-xl font-bold text-emerald-400 mb-6 flex items-center gap-2">üìã Test Cases</h3>
        <div id="test-cases" class="space-y-4 max-h-80 overflow-y-auto">
          Loading test cases...
        </div>
      </div>
    </div>
    
    <!-- Questions Progress -->
    <div class="bg-slate-900/50 border border-slate-700 rounded-2xl p-6">
      <h3 class="text-xl font-bold text-orange-400 mb-6">üìä Questions</h3>
      <div id="question-nav" class="grid grid-cols-3 gap-3"></div>
    </div>
  </div>
  
  <!-- RIGHT: Code Editor (1/3 width) -->
  <div class="space-y-6">
    <!-- Editor -->
    <div class="bg-slate-900 border border-slate-700 rounded-3xl p-4">
      <div class="flex items-center justify-between mb-4 pb-2 border-b border-slate-600">
        <span class="font-bold text-emerald-400">Solution</span>
        <div class="text-xs text-slate-400 flex items-center gap-4">
          <span>Line <span id="line-count">1</span></span>
          <span>Col <span id="col-count">1</span></span>
        </div>
      </div>
      <textarea id="code-editor">// Write your solution here
var twoSum = function(nums, target) {
    const map = new Map();
    for (let i = 0; i < nums.length; i++) {
        const complement = target - nums[i];
        if (map.has(complement)) {
            return [map.get(complement), i];
        }
        map.set(nums[i], i);
    }
};</textarea>
    </div>
    
    <!-- Console -->
    <div class="bg-slate-900 border border-slate-700 rounded-3xl p-6 h-32">
      <div class="flex items-center gap-2 mb-3 text-sm text-slate-400">üì§ Console</div>
      <div id="output-console" class="bg-slate-950 p-3 rounded-xl text-sm text-emerald-400 font-mono h-full overflow-y-auto">
        Write code & click Run to test üëÜ
      </div>
    </div>
  </div>
</div>

<script>
let currentProblemIndex=0,timeLeft=3600,editor,currentContestId=new URLSearchParams(window.location.search).get('id')||'free-daily';
let questionStatus={0:'current',1:'unread',2:'unread'},currentLanguage='javascript';

function getContestProblems(){return CONTEST_PROBLEMS[currentContestId]?.slice(0,3)||[{title:'Demo',difficulty:'Easy',description:'contest-problems.js error',examples:[{input:'demo',output:'demo'}]}];}

function initEditor(){editor=CodeMirror.fromTextArea(document.getElementById('code-editor'),{mode:'javascript',theme:'dracula',lineNumbers:true,styleActiveLine:true,matchBrackets:true,autoCloseBrackets:true,tabSize:2});editor.on('change',()=>{const c=editor.getCursor();document.getElementById('line-count').textContent=c.line+1;document.getElementById('col-count').textContent=c.ch+1;});}

function loadCurrentProblem(){
  const problems=getContestProblems(),problem=problems[currentProblemIndex]||problems[0];
  document.getElementById('problem-title').textContent=problem.title;
  document.getElementById('problem-description').innerHTML=problem.description;
  document.getElementById('difficulty-tag').textContent=problem.difficulty;
  document.getElementById('test-cases').innerHTML=(problem.examples||[]).map((e,i)=>`<div class="p-4 bg-slate-800 rounded-xl border border-slate-700"><div class="flex gap-3"><span class="w-8 font-bold text-emerald-400">Test ${i+1}</span><div class="flex-1"><div class="bg-slate-900 px-3 py-2 rounded text-xs mb-1 font-mono">${e.input}</div><div class="bg-emerald-500/20 px-3 py-2 rounded text-xs border border-emerald-500/30 font-mono">${e.output}</div></div></div></div>`).join('')||'<div class="p-8 text-center text-slate-500">No test cases</div>';
  document.getElementById('question-nav').innerHTML=problems.map((_,i)=>{const s=questionStatus[i]||'unread',c=s=='current'?'bg-emerald-500 text-black ring-2 ring-emerald-400':'bg-blue-500/30 text-blue-300 border-2 border-blue-500';return`<button onclick="goToQuestion(${i})" class="p-3 rounded-xl font-bold hover:scale-105 ${c} ${i==currentProblemIndex?'scale-105 shadow-lg':''}">Q${i+1}</button>`;}).join('');
  document.getElementById('current-question').textContent=currentProblemIndex+1;updateNavigationButtons();
}

function previousQuestion(){if(currentProblemIndex>0){questionStatus[currentProblemIndex]='read';currentProblemIndex--;loadCurrentProblem();}}
function nextQuestion(){const p=getContestProblems();if(currentProblemIndex<p.length-1){questionStatus[currentProblemIndex]='read';currentProblemIndex++;loadCurrentProblem();}}
function goToQuestion(i){questionStatus[currentProblemIndex]='read';currentProblemIndex=i;loadCurrentProblem();}
function markAsRead(){questionStatus[currentProblemIndex]='read';loadCurrentProblem();}
function changeLanguage(){currentLanguage=document.getElementById('language-select').value;editor.setOption('mode',currentLanguage);}
function runCode(){document.getElementById('run-text').style.display='none';setTimeout(()=>{document.getElementById('output-console').innerHTML='‚úÖ <strong>Code Compiled Successfully!</strong><br><span class="text-emerald-400">[PASSED ALL TEST CASES]</span><br><span class="text-slate-400 text-xs">Time: 12ms | Memory: 42.1MB</span>';document.getElementById('run-text').style.display='inline';},1500);}
function updateNavigationButtons(){document.getElementById('prev-btn').disabled=currentProblemIndex===0;document.getElementById('next-btn').disabled=currentProblemIndex===getContestProblems().length-1;}
function updateTimer(){const m=Math.floor(timeLeft/60),s=timeLeft%60;document.getElementById('timer').textContent=`${m}:${s.toString().padStart(2,'0')}`;if(timeLeft<=300)document.getElementById('timer').classList.add('text-red-400','animate-pulse');if(timeLeft<=0){alert('‚è∞ Time Up!');submitExam();return;}timeLeft--;}
function submitExam(){if(confirm('Finish exam?')){alert('‚úÖ Submitted!');window.location.href='dashboard.html';}}

document.addEventListener('DOMContentLoaded',()=>{initEditor();loadCurrentProblem();updateTimer();setInterval(updateTimer,1000);});
</script>

</body>
</html>
