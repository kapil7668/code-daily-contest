<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeRush - Live Contests</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>*{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}</style>
</head>
<body class="min-h-screen text-slate-100 bg-slate-950">
    
<!-- CONTEST SELECTION -->
<div id="contest-selection" class="max-w-4xl mx-auto px-4 py-12">
    <div class="text-center mb-12">
        <h1 class="text-5xl font-black bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent mb-4">üèÜ CodeRush Live</h1>
        <p class="text-xl text-slate-400">Join contests ‚Ä¢ Win real prizes ‚Ä¢ Practice LeetCode</p>
    </div>
    
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-slate-900/75 border border-slate-800/60 rounded-3xl p-8 hover:scale-105 transition-all">
            <h3 class="text-2xl font-bold text-emerald-400 mb-4">Free Daily</h3>
            <p class="text-slate-400 mb-6">3 Easy LeetCode problems</p>
            <button onclick="startContest('free-daily')" class="w-full bg-emerald-500 hover:bg-emerald-600 text-slate-900 font-black py-4 px-8 rounded-2xl text-lg">‚úÖ FREE JOIN</button>
        </div>
        <div class="bg-slate-900/75 border border-slate-800/60 rounded-3xl p-8 hover:scale-105 transition-all">
            <h3 class="text-2xl font-bold text-orange-400 mb-4">Quick 9‚Çπ</h3>
            <p class="text-slate-400 mb-6">Easy + Medium LeetCode</p>
            <button onclick="startContest('quick-9')" class="w-full bg-gradient-to-r from-orange-500 to-orange-400 hover:from-orange-600 text-slate-900 font-black py-4 px-8 rounded-2xl text-lg">üí≥ Pay ‚Çπ9</button>
        </div>
    </div>
</div>

<!-- EXAM PAGE (Hidden) -->
<div id="exam-page" class="hidden min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <div class="flex justify-between items-center mb-8">
            <h1 id="contest-title" class="text-3xl font-bold">Contest</h1>
            <div id="timer" class="text-2xl font-bold bg-red-500 px-6 py-3 rounded-full">‚è±Ô∏è 60:00</div>
        </div>
        <div id="problems-container" class="space-y-8"></div>
    </div>
</div>

<script>
const CONTESTS = {
    'free-daily': { name: 'Free Daily Rush', fee: 0, problems: [
        {title:"Two Sum", difficulty:"Easy", topics:"Array", desc:"nums=[2,7,11,15], target=9 ‚Üí [0,1]", sample:"Input: nums=[2,7,11,15], target=9\nOutput: [0,1]"},
        {title:"Valid Parentheses", difficulty:"Easy", topics:"Stack", desc:"()[]{} ‚Üí true", sample:"Input: ()[]{}\nOutput: true"},
        {title:"Palindrome Number", difficulty:"Easy", topics:"Math", desc:"121 ‚Üí true", sample:"Input: 121\nOutput: true"}
    ]},
    'quick-9': { name: 'Quick 9‚Çπ Rush', fee: 9, problems: [
        {title:"Contains Duplicate", difficulty:"Easy", topics:"Array", desc:"[1,2,3,1] ‚Üí true", sample:"Input: [1,2,3,1]\nOutput: true"},
        {title:"Roman to Integer", difficulty:"Easy", topics:"HashMap", desc:"III ‚Üí 3", sample:"Input: \"III\"\nOutput: 3"},
        {title:"Maximum Subarray", difficulty:"Medium", topics:"DP", desc:"[-2,1,-3,4] ‚Üí 6", sample:"Input: [-2,1,-3,4]\nOutput: 6"}
    ]}
};

let currentContestId = '';
let timeLeft = 3600;
let timerInterval;

function startContest(contestId) {
    currentContestId = contestId;
    const contest = CONTESTS[contestId];
    
    if (contest.fee === 0) {
        showExam();
    } else {
        const options = {
            key: 'rzp_test_Rxk6YiWLWxsTlb',
            amount: contest.fee * 100,
            currency: 'INR',
            name: 'CodeRush',
            description: contest.name,
            handler: function(response) {
                alert('‚úÖ Payment Success! Starting exam...');
                showExam();
            },
            prefill: { name: 'Test User', email: 'test@example.com', contact: '9999999999' },
            theme: { color: '#10b981' }
        };
        const rzp = new Razorpay(options);
        rzp.open();
    }
}

function showExam() {
    document.getElementById('contest-selection').classList.add('hidden');
    document.getElementById('exam-page').classList.remove('hidden');
    
    const contest = CONTESTS[currentContestId];
    document.getElementById('contest-title').textContent = contest.name;
    
    const container = document.getElementById('problems-container');
    contest.problems.forEach((problem, index) => {
        container.innerHTML += `
            <div class="bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20">
                <div class="flex justify-between mb-6">
                    <h2 class="text-2xl font-bold">Problem ${index+1}: ${problem.title}</h2>
                    <span class="px-4 py-2 rounded-full bg-yellow-500 text-black font-bold">${problem.difficulty}</span>
                </div>
                <div class="text-slate-300 mb-4">${problem.topics}</div>
                <div class="bg-black/50 p-6 rounded-2xl mb-6 text-sm">${problem.desc}</div>
                <div class="bg-gray-800 p-4 rounded-xl mb-6 font-mono text-xs">${problem.sample.replace(/\n/g,'<br>')}</div>
                <textarea class="w-full h-48 p-4 bg-black/50 border border-white/30 rounded-2xl text-white font-mono resize-none" placeholder="// Write your solution here..."></textarea>
                <button onclick="submitProblem(${index})" class="mt-4 bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-2xl font-bold text-lg">‚úÖ Submit</button>
            </div>
        `;
    });
    
    startTimer();
}

function startTimer() {
    timerInterval = setInterval(() => {
        timeLeft--;
        const mins = Math.floor(timeLeft / 60);
        const secs = timeLeft % 60;
        document.getElementById('timer').textContent = `‚è±Ô∏è ${mins}:${secs.toString().padStart(2,'0')}`;
        if (timeLeft <= 0) clearInterval(timerInterval);
    }, 1000);
}

function submitProblem(index) {
    alert(`‚úÖ Problem ${index+1} submitted successfully!`);
}
</script>
</body>
</html>
